
{
    "manifest_version": 2,
    "name": "Productivity Redirector",
    "version": "1.0",
    "description": "Redirects unproductive sites to productive ones",
    "permissions": [
      "webRequest",
      "webRequestBlocking",
      "<all_urls>"
    ],
    "background": {
      "scripts": ["background.js"],
      "persistent": true
    }
  }
  
  // background.js
  const redirects = {
    "instagram.com": "https://docs.google.com/document/create",
    "facebook.com": "https://trello.com/",
    "twitter.com": "https://asana.com/",
    "reddit.com": "https://www.coursera.org/"
  };
  
  chrome.webRequest.onBeforeRequest.addListener(
    function(details) {
      const url = new URL(details.url);
      for (const [unproductive, productive] of Object.entries(redirects)) {
        if (url.hostname.includes(unproductive)) {
          return {redirectUrl: productive};
        }
      }
    },
    {urls: ["<all_urls>"]},
    ["blocking"]
  );